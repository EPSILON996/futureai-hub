{% extends "base.html" %}

{% block title %}{{ post.title }} - FutureAI Hub{% endblock %}
{% block hero %}{% endblock %}

{% block content %}
<article>
  <header class="mb-4">
    <h1 class="fw-bold">{{ post.title }}</h1>
    <p class="text-muted small">
      Published on <time datetime="{{ post.timestamp.isoformat() }}">{{ post.timestamp.strftime('%B %d, %Y') }}</time>
      {% if post.is_imported %}
        | <span class="badge bg-warning text-dark">{{ post.source_name or "Syndicated" }}</span>
      {% endif %}
    </p>
  </header>

  {% if post.image_url %}
    <img src="{{ post.image_url }}" alt="{{ post.title }}" class="img-fluid rounded-4 shadow mb-4" />
  {% else %}
    <img src="{{ url_for('static', filename='default-cover.jpg') }}" alt="Default cover" class="img-fluid rounded-4 mb-4" />
  {% endif %}

  {% if post.summary %}
    <blockquote class="blockquote my-4 py-3 px-4 bg-light rounded-4 fst-italic">
      {{ post.summary }}
    </blockquote>
  {% endif %}

  <section class="article-body" style="white-space: pre-line;">
    {{ post.body | safe }}
  </section>

  {% if post.is_imported and post.source_url %}
    <div class="my-4 text-end">
      <a href="{{ post.source_url }}" class="btn btn-outline-secondary btn-sm rounded-pill" target="_blank" rel="noopener noreferrer" aria-label="Go to original source">
        Source &amp; Credits
      </a>
    </div>
  {% endif %}

  <div class="mt-5">
    <h6>Share this article:</h6>
    <a href="https://twitter.com/intent/tweet?url={{ request.url }}&text={{ post.title | urlencode }}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-primary btn-sm me-2 rounded-pill" aria-label="Share on Twitter">Twitter</a>
    <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url }}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-primary btn-sm me-2 rounded-pill" aria-label="Share on Facebook">Facebook</a>
    <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.url }}&title={{ post.title | urlencode }}" target="_blank" rel="noopener noreferrer" class="btn btn-outline-primary btn-sm rounded-pill" aria-label="Share on LinkedIn">LinkedIn</a>
  </div>
</article>
{% endblock %}
